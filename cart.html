<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Your Cart - aarclo.in</title>

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css"/>

  <style>
    body {
      background: #f9f9f9;
      font-family: 'Segoe UI', sans-serif;
    }

    .cart-container {
      max-width: 1100px;
      margin: 50px auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.08);
    }

    .cart-header {
      font-size: 26px;
      font-weight: bold;
      margin-bottom: 25px;
      border-bottom: 2px solid #eee;
      padding-bottom: 10px;
    }

    .cart-item img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
    }

    .cart-item h6 {
      font-size: 18px;
      margin: 0;
    }

    .cart-item small {
      color: #555;
    }

    .quantity-input {
      width: 70px;
      text-align: center;
    }

    .cart-summary {
      background: #fdfdfd;
      border: 1px solid #eee;
      padding: 20px;
      border-radius: 10px;
    }

    .btn-checkout {
      background: #ffcc00;
      color: black;
      font-weight: bold;
      border-radius: 8px;
      padding: 12px;
      transition: 0.3s;
    }
    .btn-checkout:hover {
      background: black;
      color: white;
    }

    .aarclo-back-btn {
      position: fixed;
      top: 20px;
      left: 20px;
      background: #222;
      color: #fff;
      width: 42px;
      height: 42px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-size: 18px;
      text-decoration: none;
      box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      transition: all 0.2s ease;
      z-index: 1000;
    }
    .aarclo-back-btn:hover {
      background: #444;
      transform: translateY(-2px);
    }
  </style>
</head>
<body>

<div class="container cart-container">
  <h2 class="cart-header"><i class="fa-solid fa-cart-shopping"></i> Your Cart</h2>
  <div id="cart-items"></div>

  <div class="row">
    <div class="col-md-6"></div>
    <div class="col-md-6">
      <div class="cart-summary">
        <h5>Order Summary</h5>
        <div class="d-flex justify-content-between">
          <span>Subtotal</span>
          <span id="subtotal">₹0</span>
        </div>
        <div class="d-flex justify-content-between">
          <span>Shipping</span>
          <span>Free</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between fw-bold">
          <span>Total</span>
          <span id="total">₹0</span>
        </div>
        <!-- Checkout Modal Trigger -->
        <button type="button" class="btn w-100 mt-3 btn-checkout" data-bs-toggle="modal" data-bs-target="#checkoutModal">
          Proceed to Checkout
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Checkout Modal -->
<div class="modal fade" id="checkoutModal" tabindex="-1" aria-labelledby="checkoutModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">

      <!-- Header -->
      <div class="modal-header">
        <h5 class="modal-title" id="checkoutModalLabel">Confirm Your Order</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <!-- Body -->
      <div class="modal-body">
        <p><strong>Product:</strong> Pista Crush</p>
        <p><strong>Quantity:</strong> 1</p>
        <p><strong>Total Amount:</strong> ₹670</p>
        <p><strong>Shipping:</strong> Free</p>
        <hr>
        <p>Are you sure you want to proceed to checkout?</p>
      </div>

      <!-- Footer -->
      <div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
  <a href="#" class="btn btn-warning">Yes, Proceed</a>
</div>


    </div>
  </div>
</div>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  function loadCartItems() {
    const cart = JSON.parse(localStorage.getItem('cart')) || [];
    const cartItemsContainer = document.getElementById('cart-items');
    let subtotal = 0;

    if (cart.length === 0) {
      cartItemsContainer.innerHTML = '<p>Your cart is empty.</p>';
      document.querySelector('.cart-summary').style.display = 'none';
      return;
    }

    cart.forEach((item, index) => {
      const price = parseInt(item.price.replace(/[^\d]/g, '')) / 100;
      const itemTotal = price * item.quantity;
      subtotal += itemTotal;

      const itemHTML = `
        <div class="row cart-item align-items-center mb-4 pb-3 border-bottom">
          <div class="col-md-2">
            <img src="${item.img}" alt="${item.title}">
          </div>
          <div class="col-md-4">
            <h6>${item.title}</h6>
            <small>Qty: ${item.quantity}</small>
          </div>
          <div class="col-md-2">
            <input type="number" class="form-control quantity-input" value="${item.quantity}" min="1" data-index="${index}">
          </div>
          <div class="col-md-2">
            <strong>₹${itemTotal}</strong>
          </div>
          <div class="col-md-2 text-end">
            <button class="btn btn-sm btn-outline-danger" onclick="removeItem(${index})"><i class="fa-solid fa-trash"></i></button>
          </div>
        </div>
      `;

      cartItemsContainer.innerHTML += itemHTML;
    });

    document.getElementById('subtotal').textContent = `₹${subtotal}`;
    document.getElementById('total').textContent = `₹${subtotal}`;
  }

  function removeItem(index) {
    let cart = JSON.parse(localStorage.getItem('cart')) || [];
    cart.splice(index, 1);
    localStorage.setItem('cart', JSON.stringify(cart));
    location.reload(); 
  }

  document.addEventListener('change', function (e) {
    if (e.target.classList.contains('quantity-input')) {
      const index = parseInt(e.target.dataset.index);
      const newQty = parseInt(e.target.value);
      let cart = JSON.parse(localStorage.getItem('cart')) || [];

      if (newQty < 1) {
        cart.splice(index, 1);
      } else {
        cart[index].quantity = newQty;
      }

      localStorage.setItem('cart', JSON.stringify(cart));
      location.reload();
    }
  });

  loadCartItems();
</script>

<!-- Back Button -->
<a href="javascript:history.back()" class="aarclo-back-btn"><i class="fa-solid fa-arrow-left"></i></a>

</body>
</html>
